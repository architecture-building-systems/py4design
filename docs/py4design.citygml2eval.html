
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>py4design.citygml2eval module &#8212; py4design 0.2a1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-py4design.citygml2eval">
<span id="py4design-citygml2eval-module"></span><h1>py4design.citygml2eval module<a class="headerlink" href="#module-py4design.citygml2eval" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="py4design.citygml2eval.Evals">
<em class="property">class </em><code class="descclassname">py4design.citygml2eval.</code><code class="descname">Evals</code><span class="sig-paren">(</span><em>citygmlfile</em><span class="sig-paren">)</span><a class="headerlink" href="#py4design.citygml2eval.Evals" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>An object that extracts all the neccessary information from a CityGML file for calculating Non-Solar Heated Facade to Floor Area Index,
Useful Solar Facade to Floor Area Index, Daylight Facade to Floor Area Index, Frontal Area Index, Route Directness Index. Currently,
the module only works for LOD1 CityGML models.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>citygmlfile</strong> : str</p>
<blockquote class="last">
<div><p>The file path of the CityGML file to be analysed.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="91%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>citygml</strong></td>
<td>(pycitygml.Reader() class instance) The Reader class that reads and store all the CityGML information for the analysis.</td>
</tr>
<tr class="row-even"><td><strong>citygmlfilepath</strong></td>
<td>(str) See Parameters.</td>
</tr>
<tr class="row-odd"><td><strong>buildings</strong></td>
<td>(list of lxml Elements) A list of lxml Elements buildings.</td>
</tr>
<tr class="row-even"><td><strong>landuses</strong></td>
<td>(list of lxml Elements) List of landuses lxml Element.</td>
</tr>
<tr class="row-odd"><td><strong>stops</strong></td>
<td>(list of lxml Elements) List of bus stops lxml Element.</td>
</tr>
<tr class="row-even"><td><strong>roads</strong></td>
<td>(list of lxml Elements) List of roads lxml Element.</td>
</tr>
<tr class="row-odd"><td><strong>railways</strong></td>
<td>(list of lxml Elements) List of railway lxml Elements.</td>
</tr>
<tr class="row-even"><td><strong>relief_features</strong></td>
<td>(list of lxml Elements) List of relief feature lxml Element.</td>
</tr>
<tr class="row-odd"><td><strong>building_occsolids</strong></td>
<td>(list of OCCsolids) The geometry (OCCsolid) of the buildings.</td>
</tr>
<tr class="row-even"><td><strong>roof_occfaces</strong></td>
<td>(list of OCCfaces) Faces of all the roofof all buildings.</td>
</tr>
<tr class="row-odd"><td><strong>facade_occfaces</strong></td>
<td>(list of OCCfaces) Faces of all the facades of all buildings.</td>
</tr>
<tr class="row-even"><td><strong>footprint_occfaces</strong></td>
<td>(list of OCCfaces) Faces of all the footprints of all buildings.</td>
</tr>
<tr class="row-odd"><td><strong>building_dictlist</strong></td>
<td>(list of dictionaries) Each dictionary has these keys : {“facade”, “footprint”, “roof”, “solid”}  facade : list of OCCfaces Faces of all the facades.  footprint : OCCface Face of the footprint.  roof : list of OCCfaces Faces of all the roofs.  solid : OCCsolid The massing of the building (LOD1).</td>
</tr>
<tr class="row-even"><td><strong>buildings_on_plot_2dlist</strong></td>
<td>(2d list of dictionaries) 2d list of building dictionaries according to the plot they belong to, e.g. [[bldg_dict1, bldg_dict2, bldg_dict3],[bldg_dict4,bldg_dict5],[bldg_dict6, bldg_dict7]].</td>
</tr>
<tr class="row-odd"><td><strong>landuse_occpolygons</strong></td>
<td>(list of OCCfaces) Faces of all the landuse plots.</td>
</tr>
<tr class="row-even"><td><strong>relief_feature_occshells</strong></td>
<td>(list of OCCshells) Shells of the terrains.</td>
</tr>
<tr class="row-odd"><td><strong>relief_feature_occfaces</strong></td>
<td>(list of OCCfaces) Faces of the terrains.</td>
</tr>
<tr class="row-even"><td><strong>road_occedges</strong></td>
<td>(list of OCCedges) The edges defining the road network (LOD0).</td>
</tr>
<tr class="row-odd"><td><strong>shading_faces</strong></td>
<td>(list of OCCfaces) The faces of the surrounding shading objects and faces.</td>
</tr>
<tr class="row-even"><td><strong>rad_base_filepath</strong></td>
<td>(str) The file path of the base.rad file for Radiance simulation.</td>
</tr>
<tr class="row-odd"><td><strong>nshffai_folderpath</strong></td>
<td>(str) The file directory to store all the result files of nshffai simulation.</td>
</tr>
<tr class="row-even"><td><strong>dffai_folderpath</strong></td>
<td>(str) The file directory to store all the result files of dffai simulation.</td>
</tr>
<tr class="row-odd"><td><strong>pvefai_folderpath</strong></td>
<td>(str) The file directory to store all the result files of pvefai simulation.</td>
</tr>
<tr class="row-even"><td><strong>daysim_folderpath</strong></td>
<td>(str) The file directory to store all the result files of daysim simulation.</td>
</tr>
<tr class="row-odd"><td><strong>solarxdim</strong></td>
<td>(int) The x dimension grid size for the building envelope for solar simulation.</td>
</tr>
<tr class="row-even"><td><strong>solarydim</strong></td>
<td>(int) The y dimension grid size for the building envelope for solar simulation.</td>
</tr>
<tr class="row-odd"><td><strong>rad</strong></td>
<td>(py2radiance.Rad class instance) The rad object documenting all the information for Radiance/Daysim simulation.</td>
</tr>
<tr class="row-even"><td><strong>irrad_results</strong></td>
<td>(list of floats) The the irradiance results in (kWh/m2), the list corresponds to the sensor surface list.</td>
</tr>
<tr class="row-odd"><td><strong>illum_results</strong></td>
<td>(list of floats) The illuminance in (lx), the list corresponds to the sensor surface list.</td>
</tr>
<tr class="row-even"><td><strong>facade_grid_srfs</strong></td>
<td>(list of OCCfaces) The gridded facades.</td>
</tr>
<tr class="row-odd"><td><strong>roof_grid_srfs</strong></td>
<td>(list of OCCfaces) The gridded roofs.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="py4design.citygml2eval.Evals.initialise_occgeom">
<code class="descname">initialise_occgeom</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#py4design.citygml2eval.Evals.initialise_occgeom" title="Permalink to this definition">¶</a></dt>
<dd><p>This function extracts all the geometrical information in the CityGML file and documents them in the attributes</p>
</dd></dl>

<dl class="method">
<dt id="py4design.citygml2eval.Evals.add_shadings_4_solar_analysis">
<code class="descname">add_shadings_4_solar_analysis</code><span class="sig-paren">(</span><em>shading_citygml_file</em><span class="sig-paren">)</span><a class="headerlink" href="#py4design.citygml2eval.Evals.add_shadings_4_solar_analysis" title="Permalink to this definition">¶</a></dt>
<dd><p>This function adds the CityGML file that is the context/shading of the CityGML file of interest.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>shading_citygml_file</strong> : str</p>
<blockquote class="last">
<div><p>The file path of the shading CityGML.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py4design.citygml2eval.Evals.calculate_far">
<code class="descname">calculate_far</code><span class="sig-paren">(</span><em>flr2flr_height</em><span class="sig-paren">)</span><a class="headerlink" href="#py4design.citygml2eval.Evals.calculate_far" title="Permalink to this definition">¶</a></dt>
<dd><p>This function calculates the FAR of each landuse plot.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>flr2flr_height</strong> : float</p>
<blockquote>
<div><p>The floor to floor height of the buildings.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>far list</strong> : list of floats</p>
<blockquote class="last">
<div><p>List of FAR for each landuse plot.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py4design.citygml2eval.Evals.nshffai">
<code class="descname">nshffai</code><span class="sig-paren">(</span><em>irrad_threshold</em>, <em>epwweatherfile</em>, <em>xdim</em>, <em>ydim</em>, <em>nshffai_threshold=None</em><span class="sig-paren">)</span><a class="headerlink" href="#py4design.citygml2eval.Evals.nshffai" title="Permalink to this definition">¶</a></dt>
<dd><p>This function calculates the Non-Solar Heated Facade to Floor Area Index (NSHFFAI) which is the ratio of the facade area that 
receives irradiation below a specified level over the net floor area. For more information refer to: Chen, Kian Wee, and Leslie Norford.
2017. Evaluating Urban Forms for Comparison Studies in the Massing Design Stage. Sustainability 9 (6). doi:10.3390/su9060987.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>irrad_threshold</strong> : float</p>
<blockquote>
<div><p>The solar irradiance threshold value (kwh/m2). For Singapore a tropical climate 364 kwh/m2 is used.</p>
</div></blockquote>
<p><strong>epwweatherfile</strong> : string</p>
<blockquote>
<div><p>The file path of the epw weatherfile.</p>
</div></blockquote>
<p><strong>xdim</strong> : int</p>
<blockquote>
<div><p>The x dimension grid size for the building facades.</p>
</div></blockquote>
<p><strong>ydim</strong> : int</p>
<blockquote>
<div><p>The y dimension grid size</p>
</div></blockquote>
<p><strong>nshffai_threshold</strong> : float, optional</p>
<blockquote>
<div><p>The nshffai threshold value for calculating the nshffai percent, default = None. If None, nshffai percent will return None.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>result dictionary</strong> : dictionary</p>
<blockquote class="last">
<div><p>A dictionary with this keys : {“afi”, “ai”, “percent”, “sensor_surfaces” , 
“solar_results”, “building_solids”, “afi_list”}</p>
<dl class="docutils">
<dt>afi <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">The nshffai of the urban design.</p>
</dd>
<dt>ai <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">The Non-Solar Heated Facade Area Index. The ratio of the facade area that receives irradiation below a specified level over the net facade area.</p>
</dd>
<dt>percent <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">The percentage of the buidings that has nshffai higher than the threshold.</p>
</dd>
<dt>sensor surfaces <span class="classifier-delimiter">:</span> <span class="classifier">list of OCCfaces</span></dt>
<dd><p class="first last">The gridded facade.</p>
</dd>
<dt>solar_results <span class="classifier-delimiter">:</span> <span class="classifier">list of floats</span></dt>
<dd><p class="first last">The the irradiance results in (kWh/m2), the list corresponds to the sensor surface list.</p>
</dd>
<dt>building_solids <span class="classifier-delimiter">:</span> <span class="classifier">list of OCCsolids</span></dt>
<dd><p class="first last">The OCCsolids of the buildings.</p>
</dd>
<dt>afi_list <span class="classifier-delimiter">:</span> <span class="classifier">list of floats</span></dt>
<dd><p class="first last">The nshffai of each building, the list corresponds to the building solids.</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py4design.citygml2eval.Evals.usffai">
<code class="descname">usffai</code><span class="sig-paren">(</span><em>lower_irrad_threshold</em>, <em>upper_irrad_threshold</em>, <em>epwweatherfile</em>, <em>xdim</em>, <em>ydim</em>, <em>usffai_threshold=None</em><span class="sig-paren">)</span><a class="headerlink" href="#py4design.citygml2eval.Evals.usffai" title="Permalink to this definition">¶</a></dt>
<dd><p>This function calculates the Useful-Solar Facade to Floor Area Index (USFFAI) which is the ratio of the facade area that 
receives irradiation between the lower and upper solar threshold over the net floor area.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>lower_irrad_threshold</strong> : float</p>
<blockquote>
<div><p>The lower solar irradiance threshold value (kwh/m2). For Singapore a tropical climate 254 kwh/m2 is used.</p>
</div></blockquote>
<p><strong>upper_irrad_threshold</strong> : float</p>
<blockquote>
<div><p>The upper solar irradiance threshold value (kwh/m2). For Singapore a tropical climate 364 kwh/m2 is used.</p>
</div></blockquote>
<p><strong>epwweatherfile</strong> : string</p>
<blockquote>
<div><p>The file path of the epw weatherfile.</p>
</div></blockquote>
<p><strong>xdim</strong> : int</p>
<blockquote>
<div><p>The x dimension grid size for the building facades.</p>
</div></blockquote>
<p><strong>ydim</strong> : int</p>
<blockquote>
<div><p>The y dimension grid size</p>
</div></blockquote>
<p><strong>usffai_threshold</strong> : float, optional</p>
<blockquote>
<div><p>The usffai threshold value for calculating the nshffai percent, default = None. If None, usffai percent will return None.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>result dictionary</strong> : dictionary</p>
<blockquote class="last">
<div><p>A dictionary with this keys : {“afi”, “ai”, “percent”, “sensor_surfaces” , 
“solar_results”, “building_solids”, “afi_list”}</p>
<dl class="docutils">
<dt>afi <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">The usffai of the urban design.</p>
</dd>
<dt>ai <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">The Useful-Solar Facade Area Index. The ratio of the facade area that receives irradiation between the thresholdsover the net facade area.</p>
</dd>
<dt>percent <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">The percentage of the buidings that has usffai higher than the threshold.</p>
</dd>
<dt>sensor surfaces <span class="classifier-delimiter">:</span> <span class="classifier">list of OCCfaces</span></dt>
<dd><p class="first last">The gridded facade.</p>
</dd>
<dt>solar_results <span class="classifier-delimiter">:</span> <span class="classifier">list of floats</span></dt>
<dd><p class="first last">The the irradiance results in (kWh/m2), the list corresponds to the sensor surface list.</p>
</dd>
<dt>building_solids <span class="classifier-delimiter">:</span> <span class="classifier">list of OCCsolids</span></dt>
<dd><p class="first last">The OCCsolids of the buildings.</p>
</dd>
<dt>afi_list <span class="classifier-delimiter">:</span> <span class="classifier">list of floats</span></dt>
<dd><p class="first last">The usffai of each building, the list corresponds to the building solids.</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py4design.citygml2eval.Evals.dffai">
<code class="descname">dffai</code><span class="sig-paren">(</span><em>illum_threshold</em>, <em>epwweatherfile</em>, <em>xdim</em>, <em>ydim</em>, <em>dffai_threshold=None</em><span class="sig-paren">)</span><a class="headerlink" href="#py4design.citygml2eval.Evals.dffai" title="Permalink to this definition">¶</a></dt>
<dd><p>This function calculates the Daylight Facade to Floor Area Index (DFFAI) which is the ratio of the facade area that 
receives illuminance (lx) higher than a threshold over the net floor area.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>illum_threshold</strong> : float</p>
<blockquote>
<div><p>The illuminance threshold value (lx). For Singapore a tropical climate 10,000lx is used.</p>
</div></blockquote>
<p><strong>epwweatherfile</strong> : string</p>
<blockquote>
<div><p>The file path of the epw weatherfile.</p>
</div></blockquote>
<p><strong>xdim</strong> : int</p>
<blockquote>
<div><p>The x dimension grid size for the building facades.</p>
</div></blockquote>
<p><strong>ydim</strong> : int</p>
<blockquote>
<div><p>The y dimension grid size</p>
</div></blockquote>
<p><strong>dffai_threshold</strong> : float, optional</p>
<blockquote>
<div><p>The dffai threshold value for calculating the dffai percent, default = None. If None, dsffai percent will return None.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>result dictionary</strong> : dictionary</p>
<blockquote class="last">
<div><p>A dictionary with this keys : {“afi”, “ai”, “percent”, “sensor_surfaces” , 
“solar_results”, “building_solids”, “afi_list”}</p>
<dl class="docutils">
<dt>afi <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">The dffai of the urban design.</p>
</dd>
<dt>ai <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">The Daylight Facade Area Index. The ratio of the facade area that receives illuminance above the thresholds over the net facade area.</p>
</dd>
<dt>percent <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">The percentage of the buidings that has dffai higher than the threshold.</p>
</dd>
<dt>sensor surfaces <span class="classifier-delimiter">:</span> <span class="classifier">list of OCCfaces</span></dt>
<dd><p class="first last">The gridded facade.</p>
</dd>
<dt>solar_results <span class="classifier-delimiter">:</span> <span class="classifier">list of floats</span></dt>
<dd><p class="first last">The illuminance in (lx), the list corresponds to the sensor surface list.</p>
</dd>
<dt>building_solids <span class="classifier-delimiter">:</span> <span class="classifier">list of OCCsolids</span></dt>
<dd><p class="first last">The OCCsolids of the buildings.</p>
</dd>
<dt>afi_list <span class="classifier-delimiter">:</span> <span class="classifier">list of floats</span></dt>
<dd><p class="first last">The dffai of each building, the list corresponds to the building solids.</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py4design.citygml2eval.Evals.pvafai">
<code class="descname">pvafai</code><span class="sig-paren">(</span><em>irrad_threshold</em>, <em>epwweatherfile</em>, <em>xdim</em>, <em>ydim</em>, <em>surface='roof'</em>, <em>pvafai_threshold=None</em><span class="sig-paren">)</span><a class="headerlink" href="#py4design.citygml2eval.Evals.pvafai" title="Permalink to this definition">¶</a></dt>
<dd><p>This function calculates the PhotoVoltaic Area to Floor Area Index (PVAFAI) which is the ratio of the PV area that 
receives irradiation above a specified level over the net floor area. For more information refer to: Chen, Kian Wee, and Leslie Norford.
2017. Evaluating Urban Forms for Comparison Studies in the Massing Design Stage. Sustainability 9 (6). doi:10.3390/su9060987.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>irrad_threshold</strong> : float</p>
<blockquote>
<div><p>The solar irradiance threshold value (kwh/m2). For Singapore a tropical climate 512 kwh/m2 is used for the facade and 1280 kWh/m2 is used for the roof.</p>
</div></blockquote>
<p><strong>epwweatherfile</strong> : string</p>
<blockquote>
<div><p>The file path of the epw weatherfile.</p>
</div></blockquote>
<p><strong>xdim</strong> : int</p>
<blockquote>
<div><p>The x dimension grid size for the building facades.</p>
</div></blockquote>
<p><strong>ydim</strong> : int</p>
<blockquote>
<div><p>The y dimension grid size</p>
</div></blockquote>
<p><strong>surface</strong> : str, optional</p>
<blockquote>
<div><p>The PV area of the building. Options are either “roof” or “facade”, default = “roof”.</p>
</div></blockquote>
<p><strong>pvafai_threshold</strong> : float, optional</p>
<blockquote>
<div><p>The pvafai threshold value for calculating the pvafai percent, default = None. If None, nshffai percent will return None.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>result dictionary</strong> : dictionary</p>
<blockquote class="last">
<div><p>A dictionary with this keys : {“afi”, “ai”, “percent”, “sensor_surfaces” , 
“solar_results”, “building_solids”, “afi_list”, “epv”}</p>
<dl class="docutils">
<dt>afi <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">The pvafai of the urban design.</p>
</dd>
<dt>ai <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">The PV Area to Facade Area Index. The ratio of the facade area that receives irradiation below a specified level over the net facade area.</p>
</dd>
<dt>percent <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">The percentage of the buidings that has pvafai higher than the threshold.</p>
</dd>
<dt>sensor surfaces <span class="classifier-delimiter">:</span> <span class="classifier">list of OCCfaces</span></dt>
<dd><p class="first last">The gridded facade.</p>
</dd>
<dt>solar_results <span class="classifier-delimiter">:</span> <span class="classifier">list of floats</span></dt>
<dd><p class="first last">The the irradiance results in (kWh/m2), the list corresponds to the sensor surface list.</p>
</dd>
<dt>building_solids <span class="classifier-delimiter">:</span> <span class="classifier">list of OCCsolids</span></dt>
<dd><p class="first last">The OCCsolids of the buildings.</p>
</dd>
<dt>afi_list <span class="classifier-delimiter">:</span> <span class="classifier">list of floats</span></dt>
<dd><p class="first last">The pvafai of each building, the list corresponds to the building solids.</p>
</dd>
</dl>
<p>epv : float
The energy produced by PV (kwh/yr).</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py4design.citygml2eval.Evals.pvefai">
<code class="descname">pvefai</code><span class="sig-paren">(</span><em>roof_irrad_threshold</em>, <em>facade_irrad_threshold</em>, <em>epwweatherfile</em>, <em>xdim</em>, <em>ydim</em>, <em>pvrfai_threshold=None</em>, <em>pvffai_threshold=None</em>, <em>pvefai_threshold=None</em><span class="sig-paren">)</span><a class="headerlink" href="#py4design.citygml2eval.Evals.pvefai" title="Permalink to this definition">¶</a></dt>
<dd><p>This function calculates the PhotoVoltaic Envelope to Floor Area Index (PVEFAI) which is the ratio of the PV envelope area (both facade and roof) that 
receives irradiation above a specified level over the net floor area. For more information refer to: Chen, Kian Wee, and Leslie Norford.
2017. Evaluating Urban Forms for Comparison Studies in the Massing Design Stage. Sustainability 9 (6). doi:10.3390/su9060987.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>roof_irrad_threshold</strong> : float</p>
<blockquote>
<div><p>The solar irradiance threshold value (kwh/m2). For Singapore a tropical climate 1280 kWh/m2 is used for the roof.</p>
</div></blockquote>
<p><strong>facade_irrad_threshold</strong> : float</p>
<blockquote>
<div><p>The solar irradiance threshold value (kwh/m2). For Singapore a tropical climate 512 kwh/m2 is used for the facade.</p>
</div></blockquote>
<p><strong>epwweatherfile</strong> : str</p>
<blockquote>
<div><p>The file path of the epw weatherfile.</p>
</div></blockquote>
<p><strong>xdim</strong> : int</p>
<blockquote>
<div><p>The x dimension grid size for the building facades.</p>
</div></blockquote>
<p><strong>ydim</strong> : int</p>
<blockquote>
<div><p>The y dimension grid size</p>
</div></blockquote>
<p><strong>pvrfai_threshold</strong> : float, optional</p>
<blockquote>
<div><p>The PV Roof to Floor Area Index (pvrfai) threshold value for calculating the pvrfai percent, default = None. If None, pvrfai percent will return None.</p>
</div></blockquote>
<p><strong>pvffai_threshold</strong> : float, optional</p>
<blockquote>
<div><p>The PV Facade to Floor Area Index (pvffai) threshold value for calculating the pvffai percent, default = None. If None, pvffai percent will return None.</p>
</div></blockquote>
<p><strong>pvefai_threshold</strong> : float, optional</p>
<blockquote>
<div><p>The PV Envelope to Floor Area Index (pvefai) threshold value for calculating the pvefai percent, default = None. If None, pvefai percent will return None.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>result dictionary</strong> : dictionary</p>
<blockquote class="last">
<div><p>A dictionary with this keys : {“afi”, “ai”, “percent”, “sensor_surfaces” , 
“solar_results”, “building_solids”, “afi_list”, “epv”}</p>
<dl class="docutils">
<dt>afi <span class="classifier-delimiter">:</span> <span class="classifier">list of floats</span></dt>
<dd><p class="first last">The pvefai, pvrfai and pvffai of the urban design.</p>
</dd>
<dt>ai <span class="classifier-delimiter">:</span> <span class="classifier">list of floats</span></dt>
<dd><p class="first last">The PV Envelope Area Index, PV Roof Area Index and PV Facade Area Index. The ratio of the envelope, roof or facade area that receives irradiation above a specified level over the 
net envelope, roof or facade area.</p>
</dd>
<dt>percent <span class="classifier-delimiter">:</span> <span class="classifier">list of floats</span></dt>
<dd><p class="first last">The percentage of the buidings that has pvefai, pvrfai and pvffai higher than the threshold.</p>
</dd>
<dt>sensor surfaces <span class="classifier-delimiter">:</span> <span class="classifier">list of OCCfaces</span></dt>
<dd><p class="first last">The gridded envelope surfaces.</p>
</dd>
<dt>solar_results <span class="classifier-delimiter">:</span> <span class="classifier">list of floats</span></dt>
<dd><p class="first last">The the irradiance results in (kWh/m2), the list corresponds to the sensor surface list.</p>
</dd>
<dt>building_solids <span class="classifier-delimiter">:</span> <span class="classifier">list of OCCsolids</span></dt>
<dd><p class="first last">The OCCsolids of the buildings.</p>
</dd>
<dt>afi_list <span class="classifier-delimiter">:</span> <span class="classifier">2d list of floats</span></dt>
<dd><p class="first last">The pvefai, pvrfai and pvffai of each building, the list corresponds to the building solids. e.g. [[envelope_result_list],[roof_result_list], [facade_result_list]]</p>
</dd>
</dl>
<p>epv : float
The energy produced by PV (kwh/yr) if the envelope is installed with PV.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py4design.citygml2eval.Evals.fai">
<code class="descname">fai</code><span class="sig-paren">(</span><em>wind_dir</em>, <em>boundary_occface=None</em>, <em>xdim=100</em>, <em>ydim=100</em><span class="sig-paren">)</span><a class="headerlink" href="#py4design.citygml2eval.Evals.fai" title="Permalink to this definition">¶</a></dt>
<dd><p>This function calculates the frontal area index of an urban massing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>wind_dir</strong> : pyvec</p>
<blockquote>
<div><p>Pyvec is a tuple of floats that documents the xyz vector of a dir e.g. (x,y,z)</p>
</div></blockquote>
<p><strong>boundary_occface</strong> : OCCface, optional</p>
<blockquote>
<div><p>The boundary of the FAI analysis. This face will be gridded. If None will process the terrain and use the terrain bounding box as the boundary face.</p>
</div></blockquote>
<p><strong>xdim</strong> : int</p>
<blockquote>
<div><p>The x dimension grid size for the boundary.</p>
</div></blockquote>
<p><strong>ydim</strong> : int</p>
<blockquote>
<div><p>The y dimension grid size for the boundary.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>result dictionary</strong> : dictionary</p>
<blockquote class="last">
<div><p>A dictionary with this keys : {“average”, “grids”, “fai_list”, “projected_surface_list” , “wind_plane_list”, “vertical_surface_list” }</p>
<dl class="docutils">
<dt>average <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">Average frontal area index of the whole design.</p>
</dd>
<dt>grids <span class="classifier-delimiter">:</span> <span class="classifier">list of OCCfaces</span></dt>
<dd><p class="first last">The grid used for the frontal area index.</p>
</dd>
<dt>fai_list <span class="classifier-delimiter">:</span> <span class="classifier">list of floats</span></dt>
<dd><p class="first last">List of all the FAI of each grid.</p>
</dd>
<dt>projected_surface_list <span class="classifier-delimiter">:</span> <span class="classifier">list of OCCfaces</span></dt>
<dd><p class="first last">The projected surfaces merged together.</p>
</dd>
<dt>wind_plane_list <span class="classifier-delimiter">:</span> <span class="classifier">list of OCCfaces</span></dt>
<dd><p class="first last">The plane representing the direction of the wind</p>
</dd>
<dt>vertical_surface_list <span class="classifier-delimiter">:</span> <span class="classifier">list of OCCfaces</span></dt>
<dd><p class="first last">The facade surfaces that are projected.</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="py4design.citygml2eval.Evals.rdi">
<code class="descname">rdi</code><span class="sig-paren">(</span><em>boundary_occface=None</em>, <em>obstruction_occfacelist=[]</em>, <em>rdi_threshold=0.6</em><span class="sig-paren">)</span><a class="headerlink" href="#py4design.citygml2eval.Evals.rdi" title="Permalink to this definition">¶</a></dt>
<dd><p>This function measures the connectivity of street network in a neighbourhood by measuring route 
directness for each parcel to a series of points around the periphery of the study area. It
identifies the percentage of good plots that exceed a rdi of 0.8 (urban area) and 0.6 (suburban). 
Algorithm for Route Directness Test, Stangl, P.. 2012 the pedestrian route directness test: A new level of service model.
urban design international 17, 228-238.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>boundary_occface</strong> : OCCface</p>
<blockquote>
<div><p>The boundary of the analysed area. If None will process the terrain and use the terrain bounding box as the boundary face.</p>
</div></blockquote>
<p><strong>obstruction_occface_list</strong> : list of OCCfaces, optional</p>
<blockquote>
<div><p>The obstructions represented as OCCfaces for the analysis, default value = [].</p>
</div></blockquote>
<p><strong>rdi_threshold</strong> : float, optional</p>
<blockquote>
<div><p>A threshold Route Directness Index, default value = 0.6.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>result dictionary</strong> : dictionary</p>
<blockquote class="last">
<div><p>A dictionary with this keys : {“average”, “percent”, “plots”, “pass_plots” , 
“fail_plots”, “rdi_list”, “network_edges”, “peripheral_points” }</p>
<dl class="docutils">
<dt>average <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">Average rdi of the whole design.</p>
</dd>
<dt>percent <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">The percentage of the plots that has RDI higher than the threshold.</p>
</dd>
<dt>plots <span class="classifier-delimiter">:</span> <span class="classifier">list of OCCfaces</span></dt>
<dd><p class="first last">The plots that are analysed.</p>
</dd>
<dt>pass_plots <span class="classifier-delimiter">:</span> <span class="classifier">list of OCCfaces</span></dt>
<dd><p class="first last">The plots that has RDI higher than the threshold.</p>
</dd>
<dt>fail_plots <span class="classifier-delimiter">:</span> <span class="classifier">list of OCCfaces</span></dt>
<dd><p class="first last">The plots that has RDI lower than the threshold.</p>
</dd>
<dt>rdi_list <span class="classifier-delimiter">:</span> <span class="classifier">list of floats</span></dt>
<dd><p class="first last">The RDI of each plot, corresponds to the list of plots.</p>
</dd>
<dt>network_edges <span class="classifier-delimiter">:</span> <span class="classifier">list of OCCedges</span></dt>
<dd><p class="first last">The network that was analysed.</p>
</dd>
<dt>peripheral_points <span class="classifier-delimiter">:</span> <span class="classifier">list of OCCedges</span></dt>
<dd><p class="first last">The peripheral points visualised as OCCedges circles.</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">py4design</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, chenkianwee.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/py4design.citygml2eval.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>